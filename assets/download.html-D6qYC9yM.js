import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as e,c as o,d as n,f as s,a as c,w as l,e as a,o as i}from"./app-BaXx2_6M.js";const u={},r=a(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>在部署时，上传或者下载时需要设置以下两个方面，以IIS为例</p><ol><li>设置<code>MIME类型</code></li><li>设置网站权限</li><li>设置文件大小</li></ol></div><p>Web端下载有几种方式：</p><ol><li>后端提供文件下载地址</li><li>后端提供文件流</li><li>前端自己组织数据下载</li></ol><h2 id="后端提供文件下载地址" tabindex="-1"><a class="header-anchor" href="#后端提供文件下载地址"><span>后端提供文件下载地址</span></a></h2><h3 id="location-href" tabindex="-1"><a class="header-anchor" href="#location-href"><span><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/href" target="_blank" rel="noopener noreferrer">location.href</a></span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>Url
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="window-open" tabindex="-1"><a class="header-anchor" href="#window-open"><span><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open" target="_blank" rel="noopener noreferrer">window.open</a></span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="a标签" tabindex="-1"><a class="header-anchor" href="#a标签"><span>a标签</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">openWindow</span><span class="token punctuation">(</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  opt<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> target<span class="token operator">?</span><span class="token operator">:</span> TargetContext <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span> noopener<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> noreferrer<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> target <span class="token operator">=</span> <span class="token string">&#39;__blank&#39;</span><span class="token punctuation">,</span> noopener <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> noreferrer <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">=</span> opt <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> feature<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  noopener <span class="token operator">&amp;&amp;</span> feature<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;noopener=yes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  noreferrer <span class="token operator">&amp;&amp;</span> feature<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;noreferrer=yes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> target<span class="token punctuation">,</span> feature<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downloadByUrl</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">,</span>
  target <span class="token operator">=</span> <span class="token string">&#39;_blank&#39;</span><span class="token punctuation">,</span>
  fileName<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  target<span class="token operator">?</span><span class="token operator">:</span> TargetContext<span class="token punctuation">;</span>
  fileName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isChrome <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;chrome&#39;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isSafari <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;safari&#39;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(iP)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Your browser does not support download!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isChrome <span class="token operator">||</span> isSafari<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
    link<span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>link<span class="token punctuation">.</span>download <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      link<span class="token punctuation">.</span>download <span class="token operator">=</span> fileName <span class="token operator">||</span> url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> url<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>createEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">&#39;MouseEvents&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      e<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      link<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    url <span class="token operator">+=</span> <span class="token string">&#39;?download&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">openWindow</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> target <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="后端提供文件流" tabindex="-1"><a class="header-anchor" href="#后端提供文件流"><span>后端提供文件流</span></a></h2>`,11),k={class:"hint-container tip"},d=n("p",{class:"hint-container-title"},"提示",-1),v=n("li",null,[n("p",null,"下载的文件无法打开"),n("p",null,[s("在"),n("code",null,"Axios"),s("里设置"),n("code",null,"responseType"),s(":"),n("code",null,"blob")])],-1),m=n("p",null,"生产环境无法下载也不报错",-1),b=n("code",null,"Access-Control-Expose-Headers:Content-Disposition",-1),f=a(`<p>关键在于<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener noreferrer">BLOB</a></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downloadByData</span><span class="token punctuation">(</span>data<span class="token operator">:</span> BlobPart<span class="token punctuation">,</span> filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> mime<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> bom<span class="token operator">?</span><span class="token operator">:</span> BlobPart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> blobData <span class="token operator">=</span> <span class="token keyword">typeof</span> bom <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">?</span> <span class="token punctuation">[</span>bom<span class="token punctuation">,</span> data<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span>blobData<span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> mime <span class="token operator">||</span> <span class="token string">&#39;application/octet-stream&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> blobURL <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> tempLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  tempLink<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
  tempLink<span class="token punctuation">.</span>href <span class="token operator">=</span> blobURL<span class="token punctuation">;</span>
  tempLink<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;download&#39;</span><span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> tempLink<span class="token punctuation">.</span>download <span class="token operator">===</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tempLink<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;target&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;_blank&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tempLink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  tempLink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>tempLink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>blobURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">downLoadFile</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> ret<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;content-disposition&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> mine <span class="token operator">=</span> ret<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;content-type&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> filename <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">downloadByData</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span>data<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> mine<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="base64图片下载" tabindex="-1"><a class="header-anchor" href="#base64图片下载"><span>Base64图片下载</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">downloadByBase64</span><span class="token punctuation">(</span>buf<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> mime<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> bom<span class="token operator">?</span><span class="token operator">:</span> BlobPart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> base64Buf <span class="token operator">=</span> <span class="token function">dataURLtoBlob</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">downloadByData</span><span class="token punctuation">(</span>base64Buf<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> mime<span class="token punctuation">,</span> bom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自己组织数据下载" tabindex="-1"><a class="header-anchor" href="#自己组织数据下载"><span>自己组织数据下载</span></a></h2><p>npm包<a href="https://www.npmjs.com/package/xlsx" target="_blank" rel="noopener noreferrer">xlsx</a></p>`,7);function h(g,w){const t=e("RouteLink");return i(),o("div",null,[r,n("div",k,[d,n("ol",null,[v,n("li",null,[m,n("p",null,[s("后端添加标头"),b,s("，或者使用"),c(t,{to:"/web/proxy.html"},{default:l(()=>[s("反向代理")]),_:1})])])])]),f])}const _=p(u,[["render",h],["__file","download.html.vue"]]),L=JSON.parse('{"path":"/web/download.html","title":"Web下载","lang":"zh-CN","frontmatter":{"title":"Web下载","date":"2023-08-30T00:00:00.000Z","editLink":false,"footer":false,"isOriginal":true,"category":["Web"],"description":"提示 在部署时，上传或者下载时需要设置以下两个方面，以IIS为例 设置MIME类型 设置网站权限 设置文件大小 Web端下载有几种方式： 后端提供文件下载地址 后端提供文件流 前端自己组织数据下载 后端提供文件下载地址 location.href window.open a标签 后端提供文件流 提示 下载的文件无法打开 在Axios里设置respons...","head":[["meta",{"property":"og:url","content":"https://ilyl.life/web/download.html"}],["meta",{"property":"og:site_name","content":"乌龙茶有点甜"}],["meta",{"property":"og:title","content":"Web下载"}],["meta",{"property":"og:description","content":"提示 在部署时，上传或者下载时需要设置以下两个方面，以IIS为例 设置MIME类型 设置网站权限 设置文件大小 Web端下载有几种方式： 后端提供文件下载地址 后端提供文件流 前端自己组织数据下载 后端提供文件下载地址 location.href window.open a标签 后端提供文件流 提示 下载的文件无法打开 在Axios里设置respons..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-09-11T09:14:48.000Z"}],["meta",{"property":"article:author","content":"乌龙茶"}],["meta",{"property":"article:published_time","content":"2023-08-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-09-11T09:14:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Web下载\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-08-30T00:00:00.000Z\\",\\"dateModified\\":\\"2023-09-11T09:14:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"乌龙茶\\",\\"url\\":\\"https://ilyl.life\\",\\"email\\":\\"mailto:ly2@ilyl.life\\"}]}"]]},"headers":[{"level":2,"title":"后端提供文件下载地址","slug":"后端提供文件下载地址","link":"#后端提供文件下载地址","children":[{"level":3,"title":"location.href","slug":"location-href","link":"#location-href","children":[]},{"level":3,"title":"window.open","slug":"window-open","link":"#window-open","children":[]},{"level":3,"title":"a标签","slug":"a标签","link":"#a标签","children":[]}]},{"level":2,"title":"后端提供文件流","slug":"后端提供文件流","link":"#后端提供文件流","children":[{"level":3,"title":"Base64图片下载","slug":"base64图片下载","link":"#base64图片下载","children":[]}]},{"level":2,"title":"自己组织数据下载","slug":"自己组织数据下载","link":"#自己组织数据下载","children":[]}],"git":{"createdTime":1693387662000,"updatedTime":1694423688000,"contributors":[{"name":"乌龙茶","email":"982474256@qq.com","commits":3}]},"readingTime":{"minutes":1.5,"words":449},"filePathRelative":"web/download.md","localizedDate":"2023年8月30日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>在部署时，上传或者下载时需要设置以下两个方面，以IIS为例</p>\\n<ol>\\n<li>设置<code>MIME类型</code></li>\\n<li>设置网站权限</li>\\n<li>设置文件大小</li>\\n</ol>\\n</div>\\n<p>Web端下载有几种方式：</p>\\n<ol>\\n<li>后端提供文件下载地址</li>\\n<li>后端提供文件流</li>\\n<li>前端自己组织数据下载</li>\\n</ol>\\n<h2>后端提供文件下载地址</h2>\\n<h3><a class=\\"header-anchor\\" href=\\"#location-href\\"><span></span></a><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/API/Location/href\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">location.href</a></h3>","autoDesc":true}');export{_ as comp,L as data};
