const n=JSON.parse('{"key":"v-1adc7762","path":"/cs/wpf/prismshell.html","title":"Prism多Shell","lang":"zh-CN","frontmatter":{"title":"Prism多Shell","date":"2023-10-18T00:00:00.000Z","dir.order":1,"editLink":false,"footer":false,"isOriginal":true,"dir":{"order":11},"order":11,"category":["C#"],"tag":["WPF","Prism"],"description":"使用Prism时，一个最常见的问题就是登录与主页面切换，启用只有一个Shell，如何切换到另外一个Shell。 Application.Current.MainWindow 通过Application.Current.MainWindow切换登录和主页面 LoginView为登录页面 ShellView为主页面 在Bootstrapper里设置登录页面启动 protected override DependencyObject CreateShell() { return Container.Resolve&lt;LoginView&gt;(); } 登录成功后 注意 代码高亮处缺少时，无法使用IRegionManager中的导航功能 var shellView = _container.Resolve&lt;ShellView&gt;(); RegionManager.SetRegionManager(shellView, _regionManager); RegionManager.UpdateRegions(); Application.Current.MainWindow.Hide(); Application.Current.MainWindow = shellView; shellView.Show(); &nbsp;&nbsp;","head":[["meta",{"property":"og:url","content":"https://ilyl.life/cs/wpf/prismshell.html"}],["meta",{"property":"og:site_name","content":"乌龙茶有点甜"}],["meta",{"property":"og:title","content":"Prism多Shell"}],["meta",{"property":"og:description","content":"使用Prism时，一个最常见的问题就是登录与主页面切换，启用只有一个Shell，如何切换到另外一个Shell。 Application.Current.MainWindow 通过Application.Current.MainWindow切换登录和主页面 LoginView为登录页面 ShellView为主页面 在Bootstrapper里设置登录页面启动 protected override DependencyObject CreateShell() { return Container.Resolve&lt;LoginView&gt;(); } 登录成功后 注意 代码高亮处缺少时，无法使用IRegionManager中的导航功能 var shellView = _container.Resolve&lt;ShellView&gt;(); RegionManager.SetRegionManager(shellView, _regionManager); RegionManager.UpdateRegions(); Application.Current.MainWindow.Hide(); Application.Current.MainWindow = shellView; shellView.Show(); &nbsp;&nbsp;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-10T08:14:20.000Z"}],["meta",{"property":"article:author","content":"乌龙茶"}],["meta",{"property":"article:tag","content":"WPF"}],["meta",{"property":"article:tag","content":"Prism"}],["meta",{"property":"article:published_time","content":"2023-10-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-10T08:14:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Prism多Shell\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-10-18T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-10T08:14:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"乌龙茶\\",\\"url\\":\\"https://ilyl.life\\",\\"email\\":\\"mailto:982474256@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"Application.Current.MainWindow","slug":"application-current-mainwindow","link":"#application-current-mainwindow","children":[]},{"level":2,"title":"Region","slug":"region","link":"#region","children":[]},{"level":2,"title":"InitializeShell","slug":"initializeshell","link":"#initializeshell","children":[]},{"level":2,"title":"自定义窗体","slug":"自定义窗体","link":"#自定义窗体","children":[{"level":3,"title":"登录窗体","slug":"登录窗体","link":"#登录窗体","children":[]},{"level":3,"title":"启动登录窗体","slug":"启动登录窗体","link":"#启动登录窗体","children":[]},{"level":3,"title":"登录用户控件","slug":"登录用户控件","link":"#登录用户控件","children":[]}]}],"git":{"createdTime":1697614849000,"updatedTime":1699604060000,"contributors":[{"name":"乌龙茶","email":"982474256@qq.com","commits":2}]},"readingTime":{"minutes":2.77,"words":831},"filePathRelative":"cs/wpf/prismshell.md","localizedDate":"2023年10月18日","excerpt":"<p>使用Prism时，一个最常见的问题就是登录与主页面切换，启用只有一个Shell，如何切换到另外一个Shell。</p>\\n<h2> Application.Current.MainWindow</h2>\\n<p>通过Application.Current.MainWindow切换登录和主页面</p>\\n<p><code>LoginView</code>为登录页面</p>\\n<p><code>ShellView</code>为主页面</p>\\n<ol>\\n<li>\\n<p>在Bootstrapper里设置登录页面启动</p>\\n<div class=\\"language-csharp line-numbers-mode\\" data-ext=\\"cs\\"><pre class=\\"language-csharp\\"><code><span class=\\"token keyword\\">protected</span> <span class=\\"token keyword\\">override</span> <span class=\\"token return-type class-name\\">DependencyObject</span> <span class=\\"token function\\">CreateShell</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">return</span> Container<span class=\\"token punctuation\\">.</span><span class=\\"token generic-method\\"><span class=\\"token function\\">Resolve</span><span class=\\"token generic class-name\\"><span class=\\"token punctuation\\">&lt;</span>LoginView<span class=\\"token punctuation\\">&gt;</span></span></span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>登录成功后</p>\\n<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">注意</p>\\n<p>代码高亮处缺少时，无法使用IRegionManager中的导航功能</p>\\n</div>\\n<div class=\\"language-csharp line-numbers-mode\\" data-ext=\\"cs\\"><pre class=\\"language-csharp\\"><code><span class=\\"token class-name\\"><span class=\\"token keyword\\">var</span></span> shellView <span class=\\"token operator\\">=</span> _container<span class=\\"token punctuation\\">.</span><span class=\\"token generic-method\\"><span class=\\"token function\\">Resolve</span><span class=\\"token generic class-name\\"><span class=\\"token punctuation\\">&lt;</span>ShellView<span class=\\"token punctuation\\">&gt;</span></span></span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nRegionManager<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">SetRegionManager</span><span class=\\"token punctuation\\">(</span>shellView<span class=\\"token punctuation\\">,</span> _regionManager<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nRegionManager<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">UpdateRegions</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nApplication<span class=\\"token punctuation\\">.</span>Current<span class=\\"token punctuation\\">.</span>MainWindow<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Hide</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nApplication<span class=\\"token punctuation\\">.</span>Current<span class=\\"token punctuation\\">.</span>MainWindow <span class=\\"token operator\\">=</span> shellView<span class=\\"token punctuation\\">;</span>\\nshellView<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Show</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n</code></pre><div class=\\"highlight-lines\\"><br><div class=\\"highlight-line\\">&nbsp;</div><div class=\\"highlight-line\\">&nbsp;</div><br><br><br></div><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n</ol>","autoDesc":true}');export{n as data};
