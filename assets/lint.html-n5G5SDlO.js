import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as i,c as l,d as n,e as s,f as t,b as e}from"./app-VcoS6O3a.js";const c={},r=n("p",null,"项目提交规范涉及以下几个包",-1),u=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"序号"),n("th",{style:{"text-align":"left"}},"包名"),n("th",{style:{"text-align":"left"}},"简介")])],-1),d=n("td",{style:{"text-align":"left"}},"1",-1),k={style:{"text-align":"left"}},v={href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"},m=n("td",{style:{"text-align":"left"}},"检查js问题并修复",-1),b=n("td",{style:{"text-align":"left"}},"2",-1),g={style:{"text-align":"left"}},y={href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"},h=n("td",{style:{"text-align":"left"}},"格式化代码",-1),q=n("td",{style:{"text-align":"left"}},"3",-1),f={style:{"text-align":"left"}},_={href:"https://stylelint.io/",target:"_blank",rel:"noopener noreferrer"},x=n("td",{style:{"text-align":"left"}},"检查css问题并修复",-1),j=n("td",{style:{"text-align":"left"}},"4",-1),w={style:{"text-align":"left"}},A={href:"https://typicode.github.io/husky/",target:"_blank",rel:"noopener noreferrer"},C=n("td",{style:{"text-align":"left"}},"Git钩子",-1),D=n("td",{style:{"text-align":"left"}},"5",-1),B={style:{"text-align":"left"}},E={href:"https://github.com/usmanyunusov/nano-staged#readme",target:"_blank",rel:"noopener noreferrer"},z={style:{"text-align":"left"}},I={href:"https://github.com/okonet/lint-staged#readme",target:"_blank",rel:"noopener noreferrer"},L=n("td",{style:{"text-align":"left"}},"6",-1),N={style:{"text-align":"left"}},P={href:"https://commitlint.js.org/#/",target:"_blank",rel:"noopener noreferrer"},S=n("td",{style:{"text-align":"left"}},"配置提交约定",-1),$=n("td",{style:{"text-align":"left"}},"7",-1),T={style:{"text-align":"left"}},W={href:"https://www.npmjs.com/package/@commitlint/cz-commitlint",target:"_blank",rel:"noopener noreferrer"},F=n("td",{style:{"text-align":"left"}},"提交时选择",-1),G=n("h2",{id:"安装步骤",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装步骤","aria-hidden":"true"},"#"),s(" 安装步骤")],-1),R=n("code",null,"nano-staged",-1),V=n("code",null,"PNPM",-1),H={href:"https://github.com/usmanyunusov/nano-staged#readme",target:"_blank",rel:"noopener noreferrer"},M=e('<div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li><code>commitlint.config.js</code>默认是<code>UTF-16 LE</code>编码格式，请重新保存为<code>UTF-8</code>编码格式</li><li><code>commitlint.config.js</code>默认是<code>CommonJs</code>规范，请更改后缀名为<code>cjs</code>变成<code>ESMoudle</code>规范</li><li>请自行在<code>commitlint.config.cjs</code>里添加<code>rules</code>。</li><li>相关包的配置见对应官方配置说明</li></ul></div>',1),U=e(`<li><p>安装<code>nano-staged</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> nano-staged <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,1),J=n("code",null,"nano-staged",-1),K={href:"https://github.com/usmanyunusov/nano-staged#format-priorities",target:"_blank",rel:"noopener noreferrer"},O=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;*.{js,ts}&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;prettier --write&quot;</span>,
   <span class="token string">&quot;*.css&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;stylelint&quot;</span>, <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Q=e(`<li><p>安装<code>husky</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> husky <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>启用Git钩子</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>添加预提交命令到钩子上</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">&quot;./node_modules/.bin/nano-staged&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>为了每次安装自动执行，需要编辑<code>package.json</code></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx husky install&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>安装<code>prettier</code>、<code>stylelint</code>、<code>eslint</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> prettier styleint eslint <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>安装<code>commitlint</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @commitlint/config-conventional @commitlint/cli <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>配置约束</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;module.exports = { extends: [&#39;@commitlint/config-conventional&#39;] };&quot;</span> <span class="token operator">&gt;</span> commitlint.config.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>添加提交约束</p></li>`,8),X=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/commit-msg  <span class="token string">&#39;npx --no -- commitlint --edit \${1}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>测试验证</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx commitlint <span class="token parameter variable">--from</span> HEAD~1 <span class="token parameter variable">--to</span> HEAD <span class="token parameter variable">--verbose</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="12"><li>添加选择提交</li></ol><p>配置commitizen adapter</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> --save-dev @commitlint/cz-commitlint commitizen inquirer@8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在<code>package.json</code>中添加</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git-cz&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@commitlint/cz-commitlint&quot;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>commitlint.config.cjs</code>里添加提示词</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token literal-property property">parserPreset</span><span class="token operator">:</span> <span class="token string">&#39;conventional-changelog-conventionalcommits&#39;</span><span class="token punctuation">,</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">prompt</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">skip</span><span class="token operator">:</span> <span class="token string">&#39;:skip&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token string">&#39;upper %d chars&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token string">&#39;%d chars at least&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">emptyWarning</span><span class="token operator">:</span> <span class="token string">&#39;can not be empty&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">upperLimitWarning</span><span class="token operator">:</span> <span class="token string">&#39;over limit&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lowerLimitWarning</span><span class="token operator">:</span> <span class="token string">&#39;below limit&#39;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">questions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Select the type of change that you&#39;re committing:&quot;</span><span class="token punctuation">,</span>
      <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token literal-property property">feat</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;A new feature&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Features&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;✨&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;A bug fix&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Bug Fixes&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;🐛&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">docs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Documentation only changes&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Documentation&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;📚&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Styles&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;💎&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">refactor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;A code change that neither fixes a bug nor adds a feature&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Code Refactoring&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;📦&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">perf</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;A code change that improves performance&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Performance Improvements&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;🚀&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Adding missing tests or correcting existing tests&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Tests&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;🚨&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Builds&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;🛠&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">ci</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Continuous Integrations&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;⚙️&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">chore</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Other changes that don&#39;t modify src or test files&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Chores&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;♻️&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token literal-property property">revert</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Reverts a previous commit&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Reverts&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">emoji</span><span class="token operator">:</span> <span class="token string">&#39;🗑&#39;</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scope</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span>
         <span class="token string">&#39;What is the scope of this change (e.g. component or file name)&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">subject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Write a short, imperative tense description of the change&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Provide a longer description of the change&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isBreaking</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Are there any breaking changes?&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">breakingBody</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span>
         <span class="token string">&#39;A BREAKING CHANGE commit requires a body. Please enter a longer description of the commit itself&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">breaking</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Describe the breaking changes&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isIssueAffected</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Does this change affect any open issues?&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">issuesBody</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span>
         <span class="token string">&#39;If issues are closed, the commit requires a body. Please enter a longer description of the commit itself&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">issues</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Add issue references (e.g. &quot;fix #123&quot;, &quot;re #123&quot;.)&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="13"><li>验证</li></ol><p>之前提交</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&#39;feat: 添加新功能&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>更改后提交</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">pnpm</span> run commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="基本结构" tabindex="-1"><a class="header-anchor" href="#基本结构" aria-hidden="true">#</a> 基本结构</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>|--demo
| |-.husky
| |--|commit-msg
| |--|pre-commit
| |-src
| |-.nano-staged.json
| |-commitlint.config.cjs
| |-package.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.husky</code>内容如下:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

npx --no -- commitlint --edit \${1}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>pre-commit</code>内容如下:</li></ul><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

./node_modules/.bin/nano-staged
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.nano-staged.json</code>内容如下:</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;*.{js,ts}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prettier --write&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*.css&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;stylelint&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>commitlint.config.cjs</code>内容如下:</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;body-leading-blank&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;footer-leading-blank&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;header-max-length&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;subject-empty&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type-empty&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;subject-case&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type-enum&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token string">&quot;feat&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;fix&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;perf&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;style&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;docs&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;refactor&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ci&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;chore&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;revert&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;wip&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;workflow&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;types&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;release&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>package.json</code>内容如下</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> 
  ...
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx husky install&quot;</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@commitlint/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.6.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@commitlint/config-conventional&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.6.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.42.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nano-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.8.8&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^15.7.0&quot;</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27);function Y(Z,nn){const a=o("ExternalLinkIcon");return i(),l("div",null,[r,n("table",null,[u,n("tbody",null,[n("tr",null,[d,n("td",k,[n("a",v,[s("ESLint"),t(a)])]),m]),n("tr",null,[b,n("td",g,[n("a",y,[s("prettier"),t(a)])]),h]),n("tr",null,[q,n("td",f,[n("a",_,[s("stylelint"),t(a)])]),x]),n("tr",null,[j,n("td",w,[n("a",A,[s("husky"),t(a)])]),C]),n("tr",null,[D,n("td",B,[n("a",E,[s("nano-staged"),t(a)])]),n("td",z,[s("轻量级的,将检查范围定位在提交的文件中,同"),n("a",I,[s("lint-staged"),t(a)])])]),n("tr",null,[L,n("td",N,[n("a",P,[s("commitlint"),t(a)])]),S]),n("tr",null,[$,n("td",T,[n("a",W,[s("cz-commitlint"),t(a)])]),F])])]),G,n("p",null,[s("以"),R,s("、"),V,s("为例，按"),n("a",H,[s("文档"),t(a)]),s("说明安装。")]),M,n("ol",null,[U,n("li",null,[n("p",null,[s("新建"),J,s("的"),n("a",K,[s("配置文件"),t(a)])]),O]),Q]),X])}const tn=p(c,[["render",Y],["__file","lint.html.vue"]]);export{tn as default};
