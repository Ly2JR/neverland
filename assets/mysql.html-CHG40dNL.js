import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as a,e}from"./app-CNoNHlwC.js";const t={},p=e(`<h2 id="表" tabindex="-1"><a class="header-anchor" href="#表"><span>表</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_student
<span class="token punctuation">(</span>
    studentNo <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    studentName <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    studentSex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    studentAge <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    classNo <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_score
<span class="token punctuation">(</span>
    studentNo <span class="token keyword">int</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    className <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    score <span class="token keyword">int</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="索引" tabindex="-1"><a class="header-anchor" href="#索引"><span>索引</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_customers
<span class="token keyword">ON</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">(</span>cust_name<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">asc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建组合索引" tabindex="-1"><a class="header-anchor" href="#创建组合索引"><span>创建组合索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">index</span> index_cust
<span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">(</span>cust_id<span class="token punctuation">,</span>cust_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在创建表的时候创建索引" tabindex="-1"><a class="header-anchor" href="#在创建表的时候创建索引"><span>在创建表的时候创建索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> seller
<span class="token punctuation">(</span>
    seller_id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    seller_name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    seller_address <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    seller_contact <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    product_type <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    sales <span class="token keyword">int</span>  <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>seller_id<span class="token punctuation">,</span>product_type<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">index</span> index_selller<span class="token punctuation">(</span>sales<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改表的时候添加索引" tabindex="-1"><a class="header-anchor" href="#修改表的时候添加索引"><span>修改表的时候添加索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">add</span> <span class="token keyword">index</span> index_seller_name<span class="token punctuation">(</span>seller_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看索引" tabindex="-1"><a class="header-anchor" href="#查看索引"><span>查看索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除索引" tabindex="-1"><a class="header-anchor" href="#删除索引"><span>删除索引</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">index</span> index_cust <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">alter</span> <span class="token keyword">table</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">drop</span> <span class="token keyword">index</span> index_customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据" tabindex="-1"><a class="header-anchor" href="#数据"><span>数据</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">901</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;北京市&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;朝阳区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token string">&#39;武汉市&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">(</span>cust_id<span class="token punctuation">,</span>cust_name<span class="token punctuation">,</span>cust_sex<span class="token punctuation">,</span>cust_address<span class="token punctuation">,</span>cust_contact<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token string">&#39;武汉市&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">set</span> cust_name<span class="token operator">=</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span>cust_address<span class="token operator">=</span><span class="token string">&#39;武汉市&#39;</span><span class="token punctuation">,</span>cust_sex<span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除数据" tabindex="-1"><a class="header-anchor" href="#删除数据"><span>删除数据</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_name<span class="token operator">=</span><span class="token string">&#39;王五&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="更新数据" tabindex="-1"><a class="header-anchor" href="#更新数据"><span>更新数据</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">update</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">set</span> cust_address<span class="token operator">=</span><span class="token string">&#39;武汉市&#39;</span> <span class="token keyword">where</span> cust_name<span class="token operator">=</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="查询" tabindex="-1"><a class="header-anchor" href="#查询"><span>查询</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name<span class="token punctuation">,</span>cust_sex<span class="token punctuation">,</span>cust_address <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询表使用列别名" tabindex="-1"><a class="header-anchor" href="#查询表使用列别名"><span>查询表使用列别名</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name <span class="token punctuation">,</span>cust_address <span class="token keyword">as</span> 地址 <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="case-when-then" tabindex="-1"><a class="header-anchor" href="#case-when-then"><span>case when then</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name<span class="token punctuation">,</span><span class="token keyword">case</span> <span class="token keyword">when</span> cust_sex<span class="token operator">=</span><span class="token string">&#39;M&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;男&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;女&#39;</span> <span class="token keyword">end</span> <span class="token keyword">as</span> 性别 <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="计算列" tabindex="-1"><a class="header-anchor" href="#计算列"><span>计算列</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name<span class="token punctuation">,</span>cust_sex<span class="token punctuation">,</span>cust_id <span class="token operator">+</span><span class="token number">100</span> <span class="token keyword">as</span> id <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="交叉连接-笛卡儿积-cross-join" tabindex="-1"><a class="header-anchor" href="#交叉连接-笛卡儿积-cross-join"><span>交叉连接 笛卡儿积 cross join</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">cross</span> <span class="token keyword">join</span> mysql_test<span class="token punctuation">.</span>seller<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">,</span>mysql_test<span class="token punctuation">.</span>seller<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="内连接-inner-join" tabindex="-1"><a class="header-anchor" href="#内连接-inner-join"><span>内连接 inner join</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>tb_student <span class="token keyword">inner</span> <span class="token keyword">join</span> mysql_test<span class="token punctuation">.</span>tb_score <span class="token keyword">on</span> tb_student<span class="token punctuation">.</span>studentNo<span class="token operator">=</span>tb_score<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="左外连接-left-join" tabindex="-1"><a class="header-anchor" href="#左外连接-left-join"><span>左外连接 left join</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>tb_student <span class="token keyword">left</span> <span class="token keyword">join</span> mysql_test<span class="token punctuation">.</span>tb_score <span class="token keyword">on</span> tb_student<span class="token punctuation">.</span>studentNo<span class="token operator">=</span>tb_score<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="右外连接-right-join" tabindex="-1"><a class="header-anchor" href="#右外连接-right-join"><span>右外连接 right join</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>tb_student <span class="token keyword">right</span> <span class="token keyword">join</span> mysql_test<span class="token punctuation">.</span>tb_score <span class="token keyword">on</span> tb_student<span class="token punctuation">.</span>studentNo<span class="token operator">=</span>tb_score<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="where-过滤" tabindex="-1"><a class="header-anchor" href="#where-过滤"><span>Where 过滤</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_sex<span class="token operator">=</span><span class="token string">&#39;M&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="between-and" tabindex="-1"><a class="header-anchor" href="#between-and"><span>between and</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_id <span class="token operator">BETWEEN</span> <span class="token number">903</span> <span class="token operator">and</span> <span class="token number">912</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="in" tabindex="-1"><a class="header-anchor" href="#in"><span>in</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">903</span><span class="token punctuation">,</span><span class="token number">906</span><span class="token punctuation">,</span><span class="token number">908</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="is-null" tabindex="-1"><a class="header-anchor" href="#is-null"><span>is null</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_contact <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="子查询-in" tabindex="-1"><a class="header-anchor" href="#子查询-in"><span>子查询 in</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> studentNo<span class="token punctuation">,</span>studentName <span class="token keyword">from</span> tb_student <span class="token keyword">where</span> studentNo <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> studentNo <span class="token keyword">from</span> tb_score <span class="token keyword">where</span> score <span class="token operator">&gt;</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="group-by" tabindex="-1"><a class="header-anchor" href="#group-by"><span>group by</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_address<span class="token punctuation">,</span>cust_sex<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;人数&#39;</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">group</span> <span class="token keyword">by</span> cust_address<span class="token punctuation">,</span>cust_sex<span class="token punctuation">;</span>
<span class="token keyword">select</span> cust_address<span class="token punctuation">,</span>cust_sex<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;人数&#39;</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">group</span> <span class="token keyword">by</span> cust_address<span class="token punctuation">,</span>cust_sex <span class="token keyword">with rollup</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="having" tabindex="-1"><a class="header-anchor" href="#having"><span>having</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_address<span class="token punctuation">,</span>cust_name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> num <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">group</span> <span class="token keyword">by</span> cust_address<span class="token punctuation">,</span>cust_name <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="order-by" tabindex="-1"><a class="header-anchor" href="#order-by"><span>order by</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name<span class="token punctuation">,</span>cust_sex <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">order</span> <span class="token keyword">by</span> cust_name <span class="token keyword">desc</span><span class="token punctuation">,</span>cust_address <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="limit" tabindex="-1"><a class="header-anchor" href="#limit"><span>limit</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">order</span> <span class="token keyword">by</span> cust_id <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">order</span> <span class="token keyword">by</span> cust_id <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="视图" tabindex="-1"><a class="header-anchor" href="#视图"><span>视图</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> <span class="token keyword">view</span> mysql_test<span class="token punctuation">.</span>customers_view
<span class="token keyword">as</span> 
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_sex<span class="token operator">=</span><span class="token string">&#39;M&#39;</span> <span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除视图" tabindex="-1"><a class="header-anchor" href="#删除视图"><span>删除视图</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">view</span>  <span class="token keyword">if</span> <span class="token keyword">exists</span> mysql_test<span class="token punctuation">.</span>customers_view<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改视图" tabindex="-1"><a class="header-anchor" href="#修改视图"><span>修改视图</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code> <span class="token keyword">alter</span> <span class="token keyword">view</span> mysql_test<span class="token punctuation">.</span>customers_view
 <span class="token keyword">as</span> 
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_sex<span class="token operator">=</span><span class="token string">&#39;F&#39;</span> <span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看视图定义" tabindex="-1"><a class="header-anchor" href="#查看视图定义"><span>查看视图定义</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">view</span> mysql_test<span class="token punctuation">.</span>customers_view
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="更新视图" tabindex="-1"><a class="header-anchor" href="#更新视图"><span>更新视图</span></a></h3><ul><li>对where 条件成立并且只有一个基本表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers_view <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">909</span><span class="token punctuation">,</span><span class="token string">&#39;周明&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;武汉市&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;洪山区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改视图 只改变一个基本表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">update</span> mysql_test<span class="token punctuation">.</span>customers_view <span class="token keyword">set</span> cust_address<span class="token operator">=</span><span class="token string">&#39;上海市&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>删除视图 只能有一个基本表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers_view <span class="token keyword">where</span> cust_name<span class="token operator">=</span><span class="token string">&#39;周明&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>查询视图</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> cust_name<span class="token punctuation">,</span>cust_address <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers_view <span class="token keyword">where</span> cust_id <span class="token operator">=</span><span class="token number">905</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="存储过程" tabindex="-1"><a class="header-anchor" href="#存储过程"><span>存储过程</span></a></h2><h3 id="创建存储过程" tabindex="-1"><a class="header-anchor" href="#创建存储过程"><span>创建存储过程</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DELIMITER</span> $$
<span class="token keyword">create</span> <span class="token keyword">procedure</span> sp_update_sex<span class="token punctuation">(</span><span class="token operator">in</span> cid <span class="token keyword">int</span><span class="token punctuation">,</span><span class="token operator">in</span> ces <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
    <span class="token keyword">update</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">set</span> cust_sex<span class="token operator">=</span>ces <span class="token keyword">where</span> cust_id<span class="token operator">=</span>cid<span class="token punctuation">;</span>
<span class="token keyword">end</span> $$
<span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="声明变量" tabindex="-1"><a class="header-anchor" href="#声明变量"><span>声明变量</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">declare</span> cid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="变量赋值" tabindex="-1"><a class="header-anchor" href="#变量赋值"><span>变量赋值</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">set</span> cid<span class="token operator">=</span><span class="token number">910</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="流程控制语句" tabindex="-1"><a class="header-anchor" href="#流程控制语句"><span>流程控制语句</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">if</span> <span class="token keyword">then</span> <span class="token keyword">else</span> 
<span class="token keyword">case</span>     
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="循环语句" tabindex="-1"><a class="header-anchor" href="#循环语句"><span>循环语句</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">while</span> <span class="token keyword">repeat</span> <span class="token keyword">loop</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>iterate 用在 while loop repeat 退出当前循环</p><h3 id="游标" tabindex="-1"><a class="header-anchor" href="#游标"><span>游标</span></a></h3><p>声明游标 declare cursor_name cursour for select_statement 打开游标 open cursor_name 读取数据 fetch cursor_name into var_name[,var_name].... 关闭游标 close cursor_name</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DELIMITER</span> $$
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> sp_sumofrow<span class="token punctuation">(</span><span class="token keyword">OUT</span> R <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
    <span class="token keyword">declare</span> cid <span class="token keyword">int</span><span class="token punctuation">;</span>
 <span class="token keyword">declare</span> found <span class="token keyword">BOOLEAN</span>  <span class="token keyword">default</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">declare</span> cur_cid <span class="token keyword">cursor</span> <span class="token keyword">for</span> <span class="token keyword">select</span> cust_id <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
    <span class="token keyword">declare</span> <span class="token keyword">continue</span> <span class="token keyword">handler</span> <span class="token keyword">for</span> <span class="token operator">not</span> found <span class="token keyword">set</span> found<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> R<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">open</span> cur_cid<span class="token punctuation">;</span>
    <span class="token keyword">fetch</span> cur_cid <span class="token keyword">into</span> cid<span class="token punctuation">;</span>
    <span class="token keyword">while</span> found <span class="token keyword">do</span>
        <span class="token keyword">set</span> R<span class="token operator">=</span>R<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">fetch</span> cur_cid <span class="token keyword">into</span> cid<span class="token punctuation">;</span>
    <span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span>
    <span class="token keyword">close</span> cur_cid<span class="token punctuation">;</span>
<span class="token keyword">end</span> $$
<span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>

<span class="token keyword">call</span> sp_sumofrow<span class="token punctuation">(</span><span class="token variable">@rows</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token variable">@rows</span><span class="token punctuation">;</span>

<span class="token keyword">call</span> sp_update_sex<span class="token punctuation">(</span><span class="token number">904</span><span class="token punctuation">,</span><span class="token string">&#39;M&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除存储过程" tabindex="-1"><a class="header-anchor" href="#删除存储过程"><span>删除存储过程</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">procedure</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> sp_update_sex<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="存储函数" tabindex="-1"><a class="header-anchor" href="#存储函数"><span>存储函数</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> $$
<span class="token keyword">create</span> <span class="token keyword">function</span> fn_search<span class="token punctuation">(</span>cid <span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">returns</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">DETERMINISTIC</span>
<span class="token keyword">begin</span>
    <span class="token keyword">declare</span> sex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">select</span> cust_sex <span class="token keyword">into</span> sex <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_id<span class="token operator">=</span>cid<span class="token punctuation">;</span>
    <span class="token keyword">if</span> sex <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token keyword">then</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token string">&#39;没有该客户&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> sex<span class="token operator">=</span><span class="token string">&#39;F&#39;</span> <span class="token keyword">then</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>
<span class="token keyword">end</span> $$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调用存储函数" tabindex="-1"><a class="header-anchor" href="#调用存储函数"><span>调用存储函数</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> fn_search<span class="token punctuation">(</span><span class="token number">904</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除存储函数" tabindex="-1"><a class="header-anchor" href="#删除存储函数"><span>删除存储函数</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">function</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> fn_search<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="触发器" tabindex="-1"><a class="header-anchor" href="#触发器"><span>触发器</span></a></h2><p>数据模拟脚本</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> $$
<span class="token keyword">create</span> <span class="token keyword">procedure</span> sp_update_content<span class="token punctuation">(</span><span class="token operator">in</span> uname <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">in</span> newemial <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
    <span class="token keyword">update</span> db_test<span class="token punctuation">.</span>content <span class="token keyword">set</span> email<span class="token operator">=</span>newemial <span class="token keyword">where</span> username<span class="token operator">=</span>uname<span class="token punctuation">;</span>
<span class="token keyword">end</span> $$

<span class="token keyword">call</span> sp_update_content<span class="token punctuation">(</span><span class="token string">&#39;MySQL初学者&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;982474256@qq.com&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_test<span class="token punctuation">.</span>content<span class="token punctuation">;</span>

<span class="token keyword">use</span> mysql_test<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> irders
<span class="token punctuation">(</span>
    order_id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    order_prodcut <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    order_product_type <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    cust_id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    order_date <span class="token keyword">datetime</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    order_price <span class="token keyword">double</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    order_amount <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>order_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>cust_id<span class="token punctuation">)</span>
        <span class="token keyword">references</span> customers<span class="token punctuation">(</span>cust_id<span class="token punctuation">)</span>
        <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">restrict</span>
        <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">restrict</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建触发器" tabindex="-1"><a class="header-anchor" href="#创建触发器"><span>创建触发器</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">use</span> mysql_test<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">trigger</span> mysql_test<span class="token punctuation">.</span>customers_insert_trigger <span class="token keyword">after</span> <span class="token keyword">insert</span>
<span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">for each row</span> <span class="token keyword">set</span> <span class="token variable">@str</span><span class="token operator">=</span><span class="token string">&#39;one customers added!&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;万华&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;长沙市&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;芙蓉区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token variable">@str</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除触发器" tabindex="-1"><a class="header-anchor" href="#删除触发器"><span>删除触发器</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">trigger</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> mysql_test<span class="token punctuation">.</span>customers_insert_trigger<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>创建触发器 insert 用new 虚拟表,delete 用OLD 虚拟表，UPDATE 用OLD虚拟表之前的数据，NEW 虚拟表更新的值</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">trigger</span> mysql_test<span class="token punctuation">.</span>customers_insert_trigger <span class="token keyword">after</span> <span class="token keyword">insert</span> 
<span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">for each row</span> <span class="token keyword">set</span> <span class="token variable">@str</span><span class="token operator">=</span>new<span class="token punctuation">.</span>cust_id<span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;曾伟&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;长沙&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;芙蓉区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token variable">@str</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">trigger</span> mysql_test<span class="token punctuation">.</span>customers_update_trigger before <span class="token keyword">update</span> <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">for each row</span>
<span class="token keyword">set</span> new<span class="token punctuation">.</span>cust_address<span class="token operator">=</span>old<span class="token punctuation">.</span>cust_contact<span class="token punctuation">;</span>

<span class="token keyword">update</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">set</span> cust_address<span class="token operator">=</span><span class="token string">&#39;武汉市&#39;</span> <span class="token keyword">where</span> cust_name<span class="token operator">=</span><span class="token string">&#39;曾伟&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> cust_name<span class="token operator">=</span><span class="token string">&#39;曾伟&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用户" tabindex="-1"><a class="header-anchor" href="#用户"><span>用户</span></a></h2><h3 id="查看用户" tabindex="-1"><a class="header-anchor" href="#查看用户"><span>查看用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token punctuation">;</span>

<span class="token keyword">select</span> password<span class="token punctuation">(</span>str<span class="token punctuation">)</span> 已过时
<span class="token keyword">select</span>  md5<span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户"><span>添加用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span>
                        <span class="token string">&#39;lisi&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;250cf8b51c773f3f8dc8b4be867a9a02&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户"><span>删除用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">user</span> lisi<span class="token variable">@localhost</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改用户" tabindex="-1"><a class="header-anchor" href="#修改用户"><span>修改用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">rename</span> <span class="token keyword">user</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token variable">@&#39;localhost&#39;</span> <span class="token keyword">to</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改用户口令" tabindex="-1"><a class="header-anchor" href="#修改用户口令"><span>修改用户口令</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> md5<span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">set</span> password <span class="token keyword">for</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span> <span class="token operator">=</span><span class="token string">&#39;5d41402abc4b2a76b9719d911017c592&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看用户权限" tabindex="-1"><a class="header-anchor" href="#查看用户权限"><span>查看用户权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="分配权限" tabindex="-1"><a class="header-anchor" href="#分配权限"><span>分配权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">(</span>cust_id<span class="token punctuation">,</span>cust_name<span class="token punctuation">)</span>
<span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">to</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分配用户及权限-已过时-用户和权限分开不在合并一起" tabindex="-1"><a class="header-anchor" href="#分配用户及权限-已过时-用户和权限分开不在合并一起"><span>分配用户及权限(已过时),用户和权限分开不在合并一起</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">update</span> <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">to</span> <span class="token string">&#39;liming&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span>
<span class="token string">&#39;huang&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;789&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分配用户执行所有数据库操作" tabindex="-1"><a class="header-anchor" href="#分配用户执行所有数据库操作"><span>分配用户执行所有数据库操作</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="分配用户创建用户权限" tabindex="-1"><a class="header-anchor" href="#分配用户创建用户权限"><span>分配用户创建用户权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="授予表权限时-语法项-priv-type-可以指定维以下值" tabindex="-1"><a class="header-anchor" href="#授予表权限时-语法项-priv-type-可以指定维以下值"><span>授予表权限时,语法项“priv_type” 可以指定维以下值</span></a></h3><p>SELECT: INSERT: DELETE: UPDATE: REFERENCES: CREATE: ALTER: INDEX: DROP: ALL或ALL PRIVILEGES</p><p>授予列权限时，语法项&quot;priv_type&quot;的值只能指定为SELECT、INSERT、UPDATE 授予数据库权限时,语法项&quot;priv_type&quot;的值指定为以下值 SELECT: INSERT: DELETE: UPDATE: REFERENCES: CREATE: ALTER: INDEX: DROP: CREATE TEMPORARY TABLES: CREATE VIEW: SHOW VIEW: CREATE ROUTINE: ALTER ROUTINE: EXECUTE ROUTINE: LOCK TABLES: ALL 或 ALL PRIVILEGES:</p><p>CREATE USER: SHOW DATABASES:</p><h3 id="对用户授权并且可以将自身的权限授予其他用户" tabindex="-1"><a class="header-anchor" href="#对用户授权并且可以将自身的权限授予其他用户"><span>对用户授权并且可以将自身的权限授予其他用户</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">TO</span> <span class="token string">&#39;ZHOU&#39;</span><span class="token variable">@&#39;LOCALHOST&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;123&#39;</span>
<span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="权限撤销" tabindex="-1"><a class="header-anchor" href="#权限撤销"><span>权限撤销</span></a></h3><p>撤销特定用户所有权限</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">revoke</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span><span class="token punctuation">,</span><span class="token keyword">grant</span> <span class="token keyword">option</span> <span class="token keyword">from</span> <span class="token string">&#39;wangwu&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="撤销select权限" tabindex="-1"><a class="header-anchor" href="#撤销select权限"><span>撤销SELECT权限</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">revoke</span> <span class="token keyword">select</span> <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">from</span> <span class="token string">&#39;zhou&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="备份" tabindex="-1"><a class="header-anchor" href="#备份"><span>备份</span></a></h2><p>值之间用逗号分隔 如果是字符则用双引号 用？号结束标志</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">lock</span> <span class="token keyword">tables</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">read</span> <span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers
<span class="token keyword">into</span> <span class="token keyword">OUTFILE</span> <span class="token string">&#39;C:\\\\backup\\\\backupfile.txt&#39;</span>
<span class="token keyword">FIELDS</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">&#39;,&#39;</span> 
<span class="token keyword">optionally</span> <span class="token keyword">enclosed</span> <span class="token keyword">by</span> <span class="token string">&#39;&quot;&#39;</span> 
<span class="token keyword">lines</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">&#39;?&#39;</span><span class="token punctuation">;</span> 

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&quot;secure_file_priv&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="恢复" tabindex="-1"><a class="header-anchor" href="#恢复"><span>恢复</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> mysql_test<span class="token punctuation">.</span>customers_copy <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql_test<span class="token punctuation">.</span>customers <span class="token keyword">where</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>

<span class="token keyword">lock</span> <span class="token keyword">tables</span> mysql_test<span class="token punctuation">.</span>customers_copy <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token keyword">load</span> <span class="token keyword">data</span> <span class="token keyword">infile</span> <span class="token string">&#39;c:/backup/backupfile.txt&#39;</span>
<span class="token keyword">into</span> <span class="token keyword">table</span> mysql_test<span class="token punctuation">.</span>customers_copy
<span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">&#39;,&#39;</span>
<span class="token keyword">optionally</span> <span class="token keyword">enclosed</span> <span class="token keyword">by</span> <span class="token string">&#39;&quot;&#39;</span>
<span class="token keyword">lines</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">&#39;?&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">unlock</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h2><ul><li>示例一</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">--创建数据库</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db_test<span class="token punctuation">;</span>

<span class="token comment">--使用数据库</span>
<span class="token keyword">use</span> db_test<span class="token punctuation">;</span>

<span class="token comment">--创建表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> content
<span class="token punctuation">(</span>
    content_id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    subject <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    words <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    face <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    createtime <span class="token keyword">datetime</span> <span class="token keyword">default</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>content_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--创建用户</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;wanming&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>

<span class="token comment">--分配查询、更新权限</span>
<span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">update</span> 
    <span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>content
<span class="token keyword">to</span> <span class="token string">&#39;wangming&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_test<span class="token punctuation">.</span>content <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;MySql问题请教&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MySQL对表数据的基本操作有哪些?&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MySQL初学者&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;face.jpg&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;tom@gmail.com&#39;</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--更新数据</span>
<span class="token keyword">update</span> db_test<span class="token punctuation">.</span>content <span class="token keyword">set</span> words<span class="token operator">=</span><span class="token string">&#39;如何使用INSERT语句&#39;</span> <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">&#39;MySQL初学者&#39;</span><span class="token punctuation">;</span>

<span class="token comment">--删除数据</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> db_test<span class="token punctuation">.</span>content <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">&#39;MySQL初学者&#39;</span><span class="token punctuation">;</span>

<span class="token comment">--查询数据</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_test<span class="token punctuation">.</span>content<span class="token punctuation">;</span>

<span class="token comment">--创建触发器</span>
<span class="token keyword">create</span> <span class="token keyword">trigger</span> content_delete_trigger before <span class="token keyword">delete</span> 
<span class="token keyword">on</span> mysql_test<span class="token punctuation">.</span>content <span class="token keyword">for each row</span> <span class="token keyword">set</span> <span class="token variable">@str</span><span class="token operator">=</span><span class="token string">&#39;old content deleted&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>示例二</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">--创建数据库</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> db_xuanke<span class="token punctuation">;</span>

<span class="token comment">--使用数据库</span>
<span class="token keyword">use</span> db_xuanke<span class="token punctuation">;</span>

<span class="token comment">--创建表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student
<span class="token punctuation">(</span>
    StuNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--学号 主码</span>
    StuName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--姓名</span>
    StuSex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--性别</span>
    Pwd <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&#39;00000000&#39;</span><span class="token punctuation">,</span><span class="token comment">--密码</span>
    DeptNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--所属院系</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>StuNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--院系编码表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> deptcode
<span class="token punctuation">(</span>
    DeptNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--院系编码 主码</span>
    DeptName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--系名</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>DeptNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--院系表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> department
<span class="token punctuation">(</span>
    DeptNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--院系编码 主码</span>
    Numofstudent <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--学生人数</span>
    Numofteather <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--教师人数</span>
    DeptAddr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--办公地点</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>DeptNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--教师表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> teacher
<span class="token punctuation">(</span>
    TeachNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--职工号 主码</span>
    TeachName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--姓名</span>
    TeachSex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--性别</span>
    TeachAge <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--年龄</span>
    TeachTitle <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--职称</span>
    Pwd <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&#39;00000000&#39;</span><span class="token punctuation">,</span> <span class="token comment">--登录密码</span>
    DeptNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--所属院系</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>TeachNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--课程编码表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> coursecode
<span class="token punctuation">(</span>
 CourseNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--课程号 主码</span>
 CourseName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--课程名称</span>
 <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>CourseNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--课程表 course</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> Course
<span class="token punctuation">(</span>
    CourseNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token punctuation">,</span><span class="token comment">--课程号(主码)</span>
    CourseType <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--课程类别</span>
    Credit <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--学分</span>
    CourseTime <span class="token keyword">date</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--上课时间</span>
    CourseAddr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--上课地点</span>
    DeptName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--开课学院</span>
    Limitofnum <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--限选人数</span>
    TeachNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--职工号</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>CourseNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--系统管理员表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> administrator
<span class="token punctuation">(</span>
    AdminNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--ID号 主码</span>
    AdminName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--姓名</span>
    Pwd <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&#39;00000000&#39;</span><span class="token punctuation">,</span> <span class="token comment">--登录密码</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>AdminNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--选修课</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> electing
<span class="token punctuation">(</span>
StuNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--学号 主码</span>
CourseNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--课程号(主码)</span>
Score <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--成绩</span>
<span class="token keyword">Primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>StuNo<span class="token punctuation">,</span>CourseNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--管理学生表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> adminstu
<span class="token punctuation">(</span>
    AdminNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--管理员ID号(主码)</span>
    StuNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--学生号 主码</span>
    OpTime <span class="token keyword">date</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--操作时间</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>AdminNo<span class="token punctuation">,</span>StuNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--管理院系表</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> admindept
<span class="token punctuation">(</span>
    AdminNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--管理员ID 主码</span>
    DeptNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--院系编码 主码</span>
    OpTime <span class="token keyword">Date</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--操作时间</span>
    <span class="token keyword">Primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>AdminNo<span class="token punctuation">,</span>DeptNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--管理教师表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> adminteacher
<span class="token punctuation">(</span>
    AdminNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--管理员ID 主码</span>
    TeachNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token punctuation">,</span><span class="token comment">--职工号 主码</span>
    OpTime <span class="token keyword">date</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">--操作时间</span>
    <span class="token keyword">Primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>AdminNo<span class="token punctuation">,</span>TeachNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--管理课程</span>
<span class="token keyword">Create</span> <span class="token keyword">table</span> admincourse
<span class="token punctuation">(</span>
    AdminNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--管理员ID 主码</span>
    CourseNo <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--课程号 主码</span>
    OpTime <span class="token keyword">date</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--操作时间</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>adminNo<span class="token punctuation">,</span>CourseNo<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--分配用户权限</span>
<span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">update</span><span class="token punctuation">,</span><span class="token keyword">insert</span><span class="token punctuation">,</span><span class="token keyword">delete</span>
<span class="token keyword">on</span> db_xuanke<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">to</span> <span class="token string">&#39;jin&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>

<span class="token comment">--添加学生</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_xuanke<span class="token punctuation">.</span>student
<span class="token keyword">set</span> StuNo<span class="token operator">=</span><span class="token number">20170922</span><span class="token punctuation">,</span>StuName<span class="token operator">=</span><span class="token string">&#39;黄然&#39;</span><span class="token punctuation">,</span>StuSex<span class="token operator">=</span><span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span>pwd<span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">,</span>
deptno<span class="token operator">=</span><span class="token keyword">select</span> deptno <span class="token keyword">from</span> db_xuanke<span class="token punctuation">.</span>deptcode <span class="token keyword">where</span> deptname<span class="token operator">=</span><span class="token string">&#39;计算机学院&#39;</span><span class="token punctuation">;</span>

<span class="token comment">--添加触发器 验证分值是否在0~100</span>
<span class="token keyword">drop</span> <span class="token keyword">trigger</span> tri_test<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">trigger</span> tri_test <span class="token keyword">after</span> <span class="token keyword">insert</span> <span class="token keyword">on</span> db_xuanke<span class="token punctuation">.</span>electing
<span class="token keyword">for each row</span> <span class="token keyword">begin</span>
<span class="token keyword">if</span> new<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">or</span> new<span class="token punctuation">.</span>score<span class="token operator">&gt;</span><span class="token number">100</span> <span class="token keyword">then</span>
    <span class="token keyword">delete</span> <span class="token keyword">from</span> db_xuanke<span class="token punctuation">.</span>electing <span class="token keyword">where</span> score<span class="token operator">=</span>new<span class="token punctuation">.</span>score<span class="token punctuation">;</span>
<span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span>

<span class="token comment">--查询表</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> db_xuanke<span class="token punctuation">.</span>electing
<span class="token comment">--删除表数据</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> db_xuanke<span class="token punctuation">.</span>electing<span class="token punctuation">;</span>
<span class="token comment">--插入表数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db_xuanke<span class="token punctuation">.</span>electing <span class="token keyword">set</span> stuno<span class="token operator">=</span><span class="token string">&#39;20170922&#39;</span><span class="token punctuation">,</span>courseNo<span class="token operator">=</span><span class="token string">&#39;01&#39;</span><span class="token punctuation">,</span>score<span class="token operator">=</span><span class="token number">98</span><span class="token punctuation">;</span>

<span class="token comment">--事务并发控制</span>
<span class="token keyword">begin</span><span class="token punctuation">;</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> db_xuanke<span class="token punctuation">.</span>teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">10021</span><span class="token punctuation">,</span><span class="token string">&#39;万明&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> db_xuanke<span class="token punctuation">.</span>teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">10073</span><span class="token punctuation">,</span><span class="token string">&#39;黄新&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> db_xuanke<span class="token punctuation">.</span>teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">10031</span><span class="token punctuation">,</span><span class="token string">&#39;徐丽&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment">--创建视图视图</span>
<span class="token keyword">Create</span> <span class="token keyword">view</span> v_score<span class="token punctuation">(</span>stuno<span class="token punctuation">,</span>totlescore<span class="token punctuation">)</span>
<span class="token keyword">as</span>
    <span class="token keyword">select</span> student<span class="token punctuation">.</span>stuno<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>course<span class="token punctuation">.</span>credit<span class="token punctuation">)</span>
    <span class="token keyword">from</span> student <span class="token keyword">join</span> electing <span class="token keyword">on</span> student<span class="token punctuation">.</span>StuNo<span class="token operator">=</span>electing<span class="token punctuation">.</span>StuNo
    <span class="token keyword">join</span> course <span class="token keyword">on</span> course<span class="token punctuation">.</span>CourseNo<span class="token operator">=</span>electing<span class="token punctuation">.</span>CourseNo
    <span class="token keyword">where</span> electing<span class="token punctuation">.</span>score<span class="token operator">&gt;=</span><span class="token number">60</span>
    <span class="token keyword">group</span> <span class="token keyword">by</span> student<span class="token punctuation">.</span>stuno<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,145),o=[p];function l(c,i){return n(),a("div",null,o)}const d=s(t,[["render",l],["__file","mysql.html.vue"]]),k=JSON.parse('{"path":"/tools/databases/mysql.html","title":"MYSQL","lang":"zh-CN","frontmatter":{"title":"MYSQL","date":"2023-06-19T00:00:00.000Z","dir.order":1,"order":1,"editLink":false,"footer":false,"isOriginal":true,"category":["工具箱"],"tag":["MYSQL"],"description":"表 索引 创建组合索引 在创建表的时候创建索引 修改表的时候添加索引 查看索引 删除索引 数据 删除数据 更新数据 查询 查询表使用列别名 case when then 计算列 交叉连接 笛卡儿积 cross join 内连接 inner join 左外连接 left join 右外连接 right join Where 过滤 between and ...","head":[["meta",{"property":"og:url","content":"https://ilyl.life/tools/databases/mysql.html"}],["meta",{"property":"og:site_name","content":"乌龙茶有点甜"}],["meta",{"property":"og:title","content":"MYSQL"}],["meta",{"property":"og:description","content":"表 索引 创建组合索引 在创建表的时候创建索引 修改表的时候添加索引 查看索引 删除索引 数据 删除数据 更新数据 查询 查询表使用列别名 case when then 计算列 交叉连接 笛卡儿积 cross join 内连接 inner join 左外连接 left join 右外连接 right join Where 过滤 between and ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-19T03:34:16.000Z"}],["meta",{"property":"article:author","content":"乌龙茶"}],["meta",{"property":"article:tag","content":"MYSQL"}],["meta",{"property":"article:published_time","content":"2023-06-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-19T03:34:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MYSQL\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-06-19T00:00:00.000Z\\",\\"dateModified\\":\\"2023-08-19T03:34:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"乌龙茶\\",\\"url\\":\\"https://ilyl.life\\",\\"email\\":\\"mailto:982474256@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"表","slug":"表","link":"#表","children":[]},{"level":2,"title":"索引","slug":"索引","link":"#索引","children":[{"level":3,"title":"创建组合索引","slug":"创建组合索引","link":"#创建组合索引","children":[]},{"level":3,"title":"在创建表的时候创建索引","slug":"在创建表的时候创建索引","link":"#在创建表的时候创建索引","children":[]},{"level":3,"title":"修改表的时候添加索引","slug":"修改表的时候添加索引","link":"#修改表的时候添加索引","children":[]},{"level":3,"title":"查看索引","slug":"查看索引","link":"#查看索引","children":[]},{"level":3,"title":"删除索引","slug":"删除索引","link":"#删除索引","children":[]}]},{"level":2,"title":"数据","slug":"数据","link":"#数据","children":[{"level":3,"title":"删除数据","slug":"删除数据","link":"#删除数据","children":[]},{"level":3,"title":"更新数据","slug":"更新数据","link":"#更新数据","children":[]}]},{"level":2,"title":"查询","slug":"查询","link":"#查询","children":[{"level":3,"title":"查询表使用列别名","slug":"查询表使用列别名","link":"#查询表使用列别名","children":[]},{"level":3,"title":"case when then","slug":"case-when-then","link":"#case-when-then","children":[]},{"level":3,"title":"计算列","slug":"计算列","link":"#计算列","children":[]},{"level":3,"title":"交叉连接 笛卡儿积 cross join","slug":"交叉连接-笛卡儿积-cross-join","link":"#交叉连接-笛卡儿积-cross-join","children":[]},{"level":3,"title":"内连接 inner join","slug":"内连接-inner-join","link":"#内连接-inner-join","children":[]},{"level":3,"title":"左外连接 left join","slug":"左外连接-left-join","link":"#左外连接-left-join","children":[]},{"level":3,"title":"右外连接 right join","slug":"右外连接-right-join","link":"#右外连接-right-join","children":[]},{"level":3,"title":"Where 过滤","slug":"where-过滤","link":"#where-过滤","children":[]},{"level":3,"title":"between and","slug":"between-and","link":"#between-and","children":[]},{"level":3,"title":"in","slug":"in","link":"#in","children":[]},{"level":3,"title":"is null","slug":"is-null","link":"#is-null","children":[]},{"level":3,"title":"子查询 in","slug":"子查询-in","link":"#子查询-in","children":[]},{"level":3,"title":"group by","slug":"group-by","link":"#group-by","children":[]},{"level":3,"title":"having","slug":"having","link":"#having","children":[]},{"level":3,"title":"order by","slug":"order-by","link":"#order-by","children":[]},{"level":3,"title":"limit","slug":"limit","link":"#limit","children":[]}]},{"level":2,"title":"视图","slug":"视图","link":"#视图","children":[{"level":3,"title":"删除视图","slug":"删除视图","link":"#删除视图","children":[]},{"level":3,"title":"修改视图","slug":"修改视图","link":"#修改视图","children":[]},{"level":3,"title":"查看视图定义","slug":"查看视图定义","link":"#查看视图定义","children":[]},{"level":3,"title":"更新视图","slug":"更新视图","link":"#更新视图","children":[]}]},{"level":2,"title":"存储过程","slug":"存储过程","link":"#存储过程","children":[{"level":3,"title":"创建存储过程","slug":"创建存储过程","link":"#创建存储过程","children":[]},{"level":3,"title":"声明变量","slug":"声明变量","link":"#声明变量","children":[]},{"level":3,"title":"变量赋值","slug":"变量赋值","link":"#变量赋值","children":[]},{"level":3,"title":"流程控制语句","slug":"流程控制语句","link":"#流程控制语句","children":[]},{"level":3,"title":"循环语句","slug":"循环语句","link":"#循环语句","children":[]},{"level":3,"title":"游标","slug":"游标","link":"#游标","children":[]},{"level":3,"title":"删除存储过程","slug":"删除存储过程","link":"#删除存储过程","children":[]},{"level":3,"title":"存储函数","slug":"存储函数","link":"#存储函数","children":[]},{"level":3,"title":"调用存储函数","slug":"调用存储函数","link":"#调用存储函数","children":[]},{"level":3,"title":"删除存储函数","slug":"删除存储函数","link":"#删除存储函数","children":[]}]},{"level":2,"title":"触发器","slug":"触发器","link":"#触发器","children":[{"level":3,"title":"创建触发器","slug":"创建触发器","link":"#创建触发器","children":[]},{"level":3,"title":"删除触发器","slug":"删除触发器","link":"#删除触发器","children":[]}]},{"level":2,"title":"用户","slug":"用户","link":"#用户","children":[{"level":3,"title":"查看用户","slug":"查看用户","link":"#查看用户","children":[]},{"level":3,"title":"添加用户","slug":"添加用户","link":"#添加用户","children":[]},{"level":3,"title":"删除用户","slug":"删除用户","link":"#删除用户","children":[]},{"level":3,"title":"修改用户","slug":"修改用户","link":"#修改用户","children":[]},{"level":3,"title":"修改用户口令","slug":"修改用户口令","link":"#修改用户口令","children":[]},{"level":3,"title":"查看用户权限","slug":"查看用户权限","link":"#查看用户权限","children":[]},{"level":3,"title":"分配权限","slug":"分配权限","link":"#分配权限","children":[]},{"level":3,"title":"分配用户及权限(已过时),用户和权限分开不在合并一起","slug":"分配用户及权限-已过时-用户和权限分开不在合并一起","link":"#分配用户及权限-已过时-用户和权限分开不在合并一起","children":[]},{"level":3,"title":"分配用户执行所有数据库操作","slug":"分配用户执行所有数据库操作","link":"#分配用户执行所有数据库操作","children":[]},{"level":3,"title":"分配用户创建用户权限","slug":"分配用户创建用户权限","link":"#分配用户创建用户权限","children":[]},{"level":3,"title":"授予表权限时,语法项“priv_type” 可以指定维以下值","slug":"授予表权限时-语法项-priv-type-可以指定维以下值","link":"#授予表权限时-语法项-priv-type-可以指定维以下值","children":[]},{"level":3,"title":"对用户授权并且可以将自身的权限授予其他用户","slug":"对用户授权并且可以将自身的权限授予其他用户","link":"#对用户授权并且可以将自身的权限授予其他用户","children":[]},{"level":3,"title":"权限撤销","slug":"权限撤销","link":"#权限撤销","children":[]},{"level":3,"title":"撤销SELECT权限","slug":"撤销select权限","link":"#撤销select权限","children":[]}]},{"level":2,"title":"备份","slug":"备份","link":"#备份","children":[]},{"level":2,"title":"恢复","slug":"恢复","link":"#恢复","children":[]},{"level":2,"title":"示例","slug":"示例","link":"#示例","children":[]}],"git":{"createdTime":1687160984000,"updatedTime":1692416056000,"contributors":[{"name":"乌龙茶","email":"982474256@qq.com","commits":4}]},"readingTime":{"minutes":8.61,"words":2584},"filePathRelative":"tools/databases/mysql.md","localizedDate":"2023年6月19日","excerpt":"<h2>表</h2>\\n<div class=\\"language-sql\\" data-ext=\\"sql\\" data-title=\\"sql\\"><pre class=\\"language-sql\\"><code><span class=\\"token keyword\\">create</span> <span class=\\"token keyword\\">table</span> tb_student\\n<span class=\\"token punctuation\\">(</span>\\n    studentNo <span class=\\"token keyword\\">int</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    studentName <span class=\\"token keyword\\">char</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">5</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    studentSex <span class=\\"token keyword\\">char</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">1</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    studentAge <span class=\\"token keyword\\">int</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    classNo <span class=\\"token keyword\\">char</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">5</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">create</span> <span class=\\"token keyword\\">table</span> tb_score\\n<span class=\\"token punctuation\\">(</span>\\n    studentNo <span class=\\"token keyword\\">int</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    className <span class=\\"token keyword\\">char</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">5</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">not</span> <span class=\\"token boolean\\">null</span><span class=\\"token punctuation\\">,</span>\\n    score <span class=\\"token keyword\\">int</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">)</span>\\n</code></pre></div>","autoDesc":true}');export{d as comp,k as data};
