import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as l,o as d,c as A,d as c,e as g,f as I}from"./app-6qJPVX4D.js";const X={},Z=c("p",null,"前端需要把数据多次提交给后端，然后返回的数据填充到真正的数据，在提交给后端。",-1),G=c("p",null,"正常数据由后端处理，但是放在了前端。",-1),o={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise",target:"_blank",rel:"noopener noreferrer"},m=c("p",null,"这时需要将Promise调整为队列，依次提交处理，然后在一并最终提交给后端。",-1),n=c("h2",{id:"演示",tabindex:"-1"},[c("a",{class:"header-anchor",href:"#演示","aria-hidden":"true"},"#"),g(" 演示")],-1),u=c("p",null,"通过Promise提交时出现验证在正在的提交之后。",-1),e=c("p",null,"而通过Promise.all批量验证时，由于后端接口不支持并发，导致始终验证失败。",-1),t=c("p",null,"通过对Promise进行队列处理，保证验证追条提交后，最后在提交。",-1);function B(x,W){const b=l("ExternalLinkIcon"),C=l("VuePlayground");return d(),A("div",null,[Z,G,c("p",null,[g("另外使用"),c("a",o,[g("Promise"),I(b)]),g("没有问题，但是有问题的在于后端不支持并发，比如多次提交文件等耗时作业。")]),m,n,u,e,I(C,{title:"Promise%E6%8F%90%E4%BA%A4%E4%B8%8D%E9%80%9A%E8%BF%87",key:"514c06c8",settings:"%7B%7D",files:"eyJBcHAudnVlIjoiPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IHJlZixyZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcblxuY29uc3QgZWRpdERhdGE9cmVhY3RpdmUoW3tcbiAgaWQ6MSxcbiAgbmFtZTonYWFhJyxcbiAgdXJsOicnXG59LHtcbiAgaWQ6MixcbiAgbmFtZTonYmJiJyxcbiAgdXJsOicnXG59XSk7XG5cbmNvbnN0IHJlc3VsdD1yZWYoJycpO1xuXG5jb25zdCBzaW11bGF0ZUNoZWNrPShpZCk9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICBzZXRUaW1lb3V0KCgpID0%2BIHtcbiAgICAgIHJlc29sdmUoYCR7aWQrMn1gKTtcbiAgICB9LCBpZCoyKTtcbn0pO1xuXG5jb25zdCBvblN1Ym1pdD0gYXN5bmMgKCk9PntcbiAgZWRpdERhdGEuZm9yRWFjaCggYXN5bmMgKGQpPT57XG4gICAgaWYoZC51cmwubGVuZ3RoPT09MCl7XG4gICAgICBjb25zdCByZXQ9YXdhaXQgc2ltdWxhdGVDaGVjayhkLmlkKTtcbiAgICAgIGQudXJsPXJldDtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHA9bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0%2Be1xuICAgICBjb25zdCB3YWl0PWVkaXREYXRhLmZpbHRlcihmPT5mLnVybC5sZW5ndGg9PT0wKTtcbiAgICAgaWYod2FpdC5sZW5ndGg9PT0wKXtcbiAgICAgIHJlc29sdmUoXCLmj5DkuqTmiJDlip9cIik7XG4gICAgIH1lbHNle1xuICAgICAgcmVqZWN0KFwi5a2Y5Zyo5pyq5o%2BQ5Lqk55qE5pWw5o2uXCIpO1xuICAgICB9XG4gIH0pO1xuXG4gIHJlc3VsdC52YWx1ZT1hd2FpdCBwO1xufTtcblxuPC9zY3JpcHQ%2BXG48dGVtcGxhdGU%2BXG4gIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIEBjbGljaz1cIm9uU3VibWl0XCI%2B5o%2BQ5LqkPC9idXR0b24%2BXG4gIDxsYWJlbD7mj5DkuqTnu5Pmnpw6e3tyZXN1bHR9fTwvbGFiZWw%2BXG4gIDx0YWJsZSBib3JkZXI9XCIxXCI%2BXG4gICAgPHRoZWFkPlxuICAgICAgPHRyPlxuICAgICAgICA8dGg%2BSUQ8L3RoPlxuICAgICAgICA8dGg%2B5ZCN56ewPC90aD5cbiAgICAgICAgPHRoPuWQjuerr%2Bi%2FlOWbnuaVsOaNrjwvdGg%2BXG4gICAgICA8L3RyPlxuICAgIDwvdGhlYWQ%2BXG4gICAgPHRib2R5PlxuICAgICAgPHRyIHYtZm9yPVwiaXRlbSBpbiBlZGl0RGF0YVwiIDprZXk9XCJpdGVtLmlkXCI%2BXG4gICAgICAgIDx0ZD57e2l0ZW0uaWR9fTwvdGQ%2BXG4gICAgICAgIDx0ZD57e2l0ZW0ubmFtZX19PC90ZD5cbiAgICAgICAgPHRkPnt7aXRlbS51cmx9fTwvdGQ%2BXG4gICAgICA8L3RyPlxuICAgIDwvdGJvZHk%2BXG4gIDwvdGFibGU%2BXG48L3RlbXBsYXRlPlxuXG4iLCJpbXBvcnQtbWFwLmpzb24iOiJ7XG4gIFwiaW1wb3J0c1wiOiB7XG4gICAgXCJ2dWVcIjogXCJodHRwczovL3BsYXkudnVlanMub3JnL3Z1ZS5ydW50aW1lLmVzbS1icm93c2VyLmpzXCIsXG4gICAgXCJ2dWUvc2VydmVyLXJlbmRlcmVyXCI6IFwiaHR0cHM6Ly9wbGF5LnZ1ZWpzLm9yZy9zZXJ2ZXItcmVuZGVyZXIuZXNtLWJyb3dzZXIuanNcIlxuICB9XG59XG4ifQ%3D%3D"}),t,I(C,{title:"Promise%E5%8A%A0%E9%98%9F%E5%88%97",key:"0e0c113a",settings:"%7B%7D",files:"eyJBcHAudnVlIjoiPHNjcmlwdCBzZXR1cD5cbmltcG9ydCB7IHJlZixyZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcblxuY29uc3QgZWRpdERhdGE9cmVhY3RpdmUoW3tcbiAgaWQ6MSxcbiAgbmFtZTonYWFhJyxcbiAgdXJsOicnXG59LHtcbiAgaWQ6MixcbiAgbmFtZTonYmJiJyxcbiAgdXJsOicnXG59XSk7XG5cbmNvbnN0IHJlc3VsdD1yZWYoJycpO1xuXG5jb25zdCBzaW11bGF0ZUNoZWNrPShpZCk9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntcbiAgICBzZXRUaW1lb3V0KCgpID0%2BIHtcbiAgICAgIHJlc29sdmUoYCR7aWQrMn1gKTtcbiAgICB9LCBpZCoyKTtcbn0pO1xuXG5jb25zdCBzaW11bGF0ZVBvc3Q9KCk9PntcbiAgY29uc3QgcD0gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0%2Be1xuICAgICBjb25zdCB3YWl0PWVkaXREYXRhLmZpbHRlcihmPT5mLnVybC5sZW5ndGg9PT0wKTtcbiAgICAgaWYod2FpdC5sZW5ndGg9PT0wKXtcbiAgICAgIHJlc29sdmUoXCLmj5DkuqTmiJDlip9cIik7XG4gICAgIH1lbHNle1xuICAgICAgcmVqZWN0KFwi5a2Y5Zyo5pyq5o%2BQ5Lqk55qE5pWw5o2uXCIpO1xuICAgICB9XG4gIH0pO1xuICByZXR1cm4gcDtcbn1cblxuY29uc3Qgb25TdWJtaXQ9IGFzeW5jICgpPT57XG4gIGxldCBxPVByb21pc2UucmVzb2x2ZSgnJyk7XG5cbiAgZWRpdERhdGEuZm9yRWFjaCggYXN5bmMgKGQpPT57XG4gICAgaWYoZC51cmwubGVuZ3RoPT09MCl7XG4gICAgICBxPXEudGhlbihhc3luYyhyZXMpPT57XG4gICAgICAgIGNvbnN0IHJldD1hd2FpdCBzaW11bGF0ZUNoZWNrKGQuaWQpO1xuICAgICAgICBkLnVybD1yZXQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PntyZXNvbHZlKHJldCl9KVxuICAgICAgfSlcbiAgICB9XG4gIH0pO1xuICBxLnRoZW4oYXN5bmMgKHJlcyk9PntcbiAgICBjb25zdCByZXQ9YXdhaXQgc2ltdWxhdGVQb3N0KCk7XG4gICAgcmVzdWx0LnZhbHVlPXJldDtcbiAgfSlcbn07XG5cbjwvc2NyaXB0PlxuPHRlbXBsYXRlPlxuICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBAY2xpY2s9XCJvblN1Ym1pdFwiPuaPkOS6pDwvYnV0dG9uPlxuICA8bGFiZWw%2B5o%2BQ5Lqk57uT5p6cOnt7cmVzdWx0fX08L2xhYmVsPlxuICA8dGFibGUgYm9yZGVyPVwiMVwiPlxuICAgIDx0aGVhZD5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRoPklEPC90aD5cbiAgICAgICAgPHRoPuWQjeensDwvdGg%2BXG4gICAgICAgIDx0aD7lkI7nq6%2Fov5Tlm57mlbDmja48L3RoPlxuICAgICAgPC90cj5cbiAgICA8L3RoZWFkPlxuICAgIDx0Ym9keT5cbiAgICAgIDx0ciB2LWZvcj1cIml0ZW0gaW4gZWRpdERhdGFcIiA6a2V5PVwiaXRlbS5pZFwiPlxuICAgICAgICA8dGQ%2Be3tpdGVtLmlkfX08L3RkPlxuICAgICAgICA8dGQ%2Be3tpdGVtLm5hbWV9fTwvdGQ%2BXG4gICAgICAgIDx0ZD57e2l0ZW0udXJsfX08L3RkPlxuICAgICAgPC90cj5cbiAgICA8L3Rib2R5PlxuICA8L3RhYmxlPlxuPC90ZW1wbGF0ZT5cblxuIiwiaW1wb3J0LW1hcC5qc29uIjoie1xuICBcImltcG9ydHNcIjoge1xuICAgIFwidnVlXCI6IFwiaHR0cHM6Ly9wbGF5LnZ1ZWpzLm9yZy92dWUucnVudGltZS5lc20tYnJvd3Nlci5qc1wiLFxuICAgIFwidnVlL3NlcnZlci1yZW5kZXJlclwiOiBcImh0dHBzOi8vcGxheS52dWVqcy5vcmcvc2VydmVyLXJlbmRlcmVyLmVzbS1icm93c2VyLmpzXCJcbiAgfVxufVxuIn0%3D"})])}const s=i(X,[["render",B],["__file","promise.html.vue"]]);export{s as default};
