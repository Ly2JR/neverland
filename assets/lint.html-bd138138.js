import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as l,c as p,d as n,e as s,f as t,b as e}from"./app-b046f98d.js";const c={},u=n("p",null,"项目提交规范涉及以下几个包",-1),r=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"序号"),n("th",{style:{"text-align":"left"}},"包名"),n("th",{style:{"text-align":"left"}},"简介")])],-1),d=n("td",{style:{"text-align":"left"}},"1",-1),v={style:{"text-align":"left"}},m={href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"},k=n("td",{style:{"text-align":"left"}},"检查js问题并修复",-1),g=n("td",{style:{"text-align":"left"}},"2",-1),b={style:{"text-align":"left"}},h={href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"},q=n("td",{style:{"text-align":"left"}},"格式化代码",-1),_=n("td",{style:{"text-align":"left"}},"3",-1),y={style:{"text-align":"left"}},f={href:"https://stylelint.io/",target:"_blank",rel:"noopener noreferrer"},x=n("td",{style:{"text-align":"left"}},"检查css问题并修复",-1),j=n("td",{style:{"text-align":"left"}},"4",-1),w={style:{"text-align":"left"}},E={href:"https://typicode.github.io/husky/",target:"_blank",rel:"noopener noreferrer"},D=n("td",{style:{"text-align":"left"}},"Git钩子",-1),$=n("td",{style:{"text-align":"left"}},"5",-1),N={style:{"text-align":"left"}},L={href:"https://github.com/usmanyunusov/nano-staged#readme",target:"_blank",rel:"noopener noreferrer"},V={style:{"text-align":"left"}},B={href:"https://github.com/okonet/lint-staged#readme",target:"_blank",rel:"noopener noreferrer"},S=n("td",{style:{"text-align":"left"}},"6",-1),T={style:{"text-align":"left"}},A={href:"https://commitlint.js.org/#/",target:"_blank",rel:"noopener noreferrer"},C=n("td",{style:{"text-align":"left"}},"配置提交约定",-1),F=n("h2",{id:"安装步骤",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装步骤","aria-hidden":"true"},"#"),s(" 安装步骤")],-1),G=n("code",null,"nano-staged",-1),H=n("code",null,"PNPM",-1),I={href:"https://github.com/usmanyunusov/nano-staged#readme",target:"_blank",rel:"noopener noreferrer"},M=e('<div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li><code>commitlint.config.js</code>默认是<code>UTF-16 LE</code>编码格式，请重新保存为<code>UTF-8</code>编码格式</li><li><code>commitlint.config.js</code>默认是<code>CommonJs</code>规范，请更改后缀名为<code>cjs</code>变成<code>ESMoudle</code>规范</li><li>请自行在<code>commitlint.config.cjs</code>里添加<code>rules</code>。</li><li>相关包的配置见对应官方配置说明</li></ul></div>',1),P=e(`<li><p>安装<code>nano-staged</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> nano-staged <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,1),U=n("code",null,"nano-staged",-1),J={href:"https://github.com/usmanyunusov/nano-staged#format-priorities",target:"_blank",rel:"noopener noreferrer"},z=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;*.{js,ts}&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;prettier --write&quot;</span>,
   <span class="token string">&quot;*.css&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;stylelint&quot;</span>, <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),K=e(`<li><p>安装<code>husky</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> husky <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>启用Git钩子</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>添加预提交命令到钩子上</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">&quot;./node_modules/.bin/nano-staged&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>为了每次安装自动执行，需要编辑<code>package.json</code></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx husky install&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>安装<code>prettier</code>、<code>stylelint</code>、<code>eslint</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> prettier styleint eslint <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>安装<code>commitlint</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @commitlint/config-conventional @commitlint/cli <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>配置约束</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;module.exports = { extends: [&#39;@commitlint/config-conventional&#39;] };&quot;</span> <span class="token operator">&gt;</span> commitlint.config.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>添加提交约束</p></li>`,8),O=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/commit-msg  <span class="token string">&#39;npx --no -- commitlint --edit \${1}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>测试验证</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx commitlint <span class="token parameter variable">--from</span> HEAD~1 <span class="token parameter variable">--to</span> HEAD <span class="token parameter variable">--verbose</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="基本结构" tabindex="-1"><a class="header-anchor" href="#基本结构" aria-hidden="true">#</a> 基本结构</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>|--demo
| |-.husky
| |--|commit-msg
| |--|pre-commit
| |-src
| |-.nano-staged.json
| |-commitlint.config.cjs
| |-package.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.husky</code>内容如下:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

npx --no -- commitlint --edit \${1}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>pre-commit</code>内容如下:</li></ul><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

./node_modules/.bin/nano-staged
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.nano-staged.json</code>内容如下:</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;*.{js,ts}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prettier --write&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*.css&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;stylelint&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>commitlint.config.cjs</code>内容如下:</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;body-leading-blank&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;footer-leading-blank&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;header-max-length&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;subject-empty&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type-empty&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;subject-case&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type-enum&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token string">&quot;feat&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;fix&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;perf&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;style&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;docs&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;refactor&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ci&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;chore&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;revert&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;wip&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;workflow&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;types&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;release&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>package.json</code>内容如下</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> 
  ...
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;postinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx husky install&quot;</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@commitlint/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.6.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@commitlint/config-conventional&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.6.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.42.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nano-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.8.8&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^15.7.0&quot;</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15);function Q(R,W){const a=i("ExternalLinkIcon");return l(),p("div",null,[u,n("table",null,[r,n("tbody",null,[n("tr",null,[d,n("td",v,[n("a",m,[s("ESLint"),t(a)])]),k]),n("tr",null,[g,n("td",b,[n("a",h,[s("prettier"),t(a)])]),q]),n("tr",null,[_,n("td",y,[n("a",f,[s("stylelint"),t(a)])]),x]),n("tr",null,[j,n("td",w,[n("a",E,[s("husky"),t(a)])]),D]),n("tr",null,[$,n("td",N,[n("a",L,[s("nano-staged"),t(a)])]),n("td",V,[s("轻量级的,将检查范围定位在提交的文件中,同"),n("a",B,[s("lint-staged"),t(a)])])]),n("tr",null,[S,n("td",T,[n("a",A,[s("commitlint"),t(a)])]),C])])]),F,n("p",null,[s("以"),G,s("、"),H,s("为例，按"),n("a",I,[s("文档"),t(a)]),s("说明安装。")]),M,n("ol",null,[P,n("li",null,[n("p",null,[s("新建"),U,s("的"),n("a",J,[s("配置文件"),t(a)])]),z]),K]),O])}const Z=o(c,[["render",Q],["__file","lint.html.vue"]]);export{Z as default};
